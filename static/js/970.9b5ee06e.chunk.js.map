{"version":3,"file":"static/js/970.9b5ee06e.chunk.js","mappings":"wSAcMA,EAAeC,EAAAA,KAAaC,MAAM,CACtCC,MAAOF,EAAAA,KAEJG,QACC,GAAAC,OAPc,2CAOA,GAAAA,OANA,wDAOd,yDAEDC,SAAS,8BACZC,SAAUN,EAAAA,KAEPG,QACC,iEACA,8HAEDE,SAAS,0BAGRE,EAAgB,CACpBL,MAAO,GACPI,SAAU,IA0EZ,EAvEmB,WACjB,IAAME,GAAWC,EAAAA,EAAAA,MASXC,EAAU,SAACC,EAAQC,GACvB,OAAOD,EAAOC,GAAK,GAAAR,OAAMS,EAAAA,EAAAA,kBAA4B,IACvD,EAEA,OACEC,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIC,UAAWJ,EAAAA,EAAAA,MAAaE,SAAC,8BAC7BC,EAAAA,EAAAA,KAACE,EAAAA,GAAM,CACLX,cAAeA,EACfY,iBAAkBpB,EAClBqB,SAjBe,SAACC,EAAMC,GAAqB,IAAjBC,EAASD,EAATC,UACtBrB,EAAoBmB,EAApBnB,MAAOI,EAAae,EAAbf,SACTkB,EAA4B,MAApBtB,EAAMuB,OAAO,GAAa,CAAEC,MAAOxB,GAAU,CAAEyB,MAAOzB,GACpEM,GAASoB,EAAAA,EAAAA,IAAMC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIL,GAAK,IAAElB,SAAAA,MAC5BiB,GACF,EAY6BR,SAEtB,SAAAe,GAAiB,IAAdnB,EAAMmB,EAANnB,OACF,OACEG,EAAAA,EAAAA,MAACiB,EAAAA,GAAI,CAACC,aAAa,MAAMf,UAAWJ,EAAAA,EAAAA,KAAYE,SAAA,EAC9CD,EAAAA,EAAAA,MAAA,SAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACiB,EAAAA,GAAK,CACJC,KAAK,OACLtB,KAAK,QACLuB,YAAY,uEACZlB,UAAS,GAAAb,OAAKS,EAAAA,EAAAA,WAAiB,KAAAT,OAAIM,EAAQC,EAAQ,aAErDK,EAAAA,EAAAA,KAACoB,EAAAA,GAAY,CACXxB,KAAK,QACLyB,UAAWC,EAAAA,EACXC,QAAS5B,EAAOT,YAGpBY,EAAAA,EAAAA,MAAA,SAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACiB,EAAAA,GAAK,CACJC,KAAK,WACLtB,KAAK,WACLuB,YAAY,uCACZlB,UAAS,GAAAb,OAAKS,EAAAA,EAAAA,WAAiB,KAAAT,OAAIM,EACjCC,EACA,gBAGJK,EAAAA,EAAAA,KAACoB,EAAAA,GAAY,CACXxB,KAAK,QACLyB,UAAWC,EAAAA,EACXC,QAAS5B,EAAOL,eAGpBU,EAAAA,EAAAA,KAACwB,EAAAA,GAAI,CAACC,GAAG,UAAUxB,UAAWJ,EAAAA,EAAAA,mBAA0BE,SAAC,gFAGzDC,EAAAA,EAAAA,KAAA,UACEkB,KAAK,SACLjB,UAAS,GAAAb,OAAKS,EAAAA,EAAAA,WAAiB,KAAAT,OAAIS,EAAAA,EAAAA,aAAqBE,SACzD,2CAKP,MAIR,ECnFA,EAfe,WACb,OACED,EAAAA,EAAAA,MAAA4B,EAAAA,SAAA,CAAA3B,SAAA,EACEC,EAAAA,EAAAA,KAAC2B,EAAAA,EAAM,KACP7B,EAAAA,EAAAA,MAAA,QAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAC4B,EAAAA,EAAQ,KACT5B,EAAAA,EAAAA,KAAC6B,EAAU,KACX7B,EAAAA,EAAAA,KAAC8B,EAAAA,EAAQ,CAACC,KAAK,YAAYR,QAAQ,+GACnCvB,EAAAA,EAAAA,KAACgC,EAAAA,EAAS,QAEZhC,EAAAA,EAAAA,KAACiC,EAAAA,EAAM,MAGb,C","sources":["components/Auth/SigninForm.jsx","pages/Signin.jsx"],"sourcesContent":["import styles from \"./Auth.module.css\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as yup from \"yup\";\r\n\r\nimport { signin } from \"redux/auth/operations\";\r\n\r\nimport Error from \"components/Auth/ErrorMessage\";\r\n\r\nconst emailRegexp = \"/^[a-z0-9._%+-]+@[a-z0-9.-]+[a-z]{2,4}$\";\r\nconst phoneRegexp = \"^[+]380?[-s]?([5|6|9][0|3|5|6|8|9])?[-.s]?[0-9]{7}$/\";\r\n\r\nconst signinSchema = yup.object().shape({\r\n  login: yup\r\n    .string()\r\n    .matches(\r\n      `${emailRegexp}` | `${phoneRegexp}`,\r\n      \"Email or phone has incorrect form. Please, try again.\"\r\n    )\r\n    .required(\"Email or phone is required\"),\r\n  password: yup\r\n    .string()\r\n    .matches(\r\n      /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{6,12}$/,\r\n      \"Password must consist of 6-12 characters including at least 1 uppercase, 1 lowercase, 1 number and 1 symbol (!@#$%^&*_=+-)\"\r\n    )\r\n    .required(\"Password is required\"),\r\n});\r\n\r\nconst initialValues = {\r\n  login: \"\",\r\n  password: \"\",\r\n};\r\n\r\nconst SigninForm = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = (values, { resetForm }) => {\r\n    const { login, password } = values;\r\n    const field = login.charAt(0) === \"+\" ? { phone: login } : { email: login };\r\n    dispatch(signin({ ...field, password }));\r\n    resetForm();\r\n  };\r\n\r\n  const isError = (errors, name) => {\r\n    return errors[name] ? `${styles[\"form-el-error\"]}` : null;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1 className={styles.title}>Вхід</h1>\r\n      <Formik\r\n        initialValues={initialValues}\r\n        validationSchema={signinSchema}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        {({ errors }) => {\r\n          return (\r\n            <Form autoComplete=\"off\" className={styles.form}>\r\n              <label>\r\n                <Field\r\n                  type=\"text\"\r\n                  name=\"login\"\r\n                  placeholder=\"Телефон або e-mail\"\r\n                  className={`${styles[\"form-el\"]} ${isError(errors, \"login\")}`}\r\n                />\r\n                <ErrorMessage\r\n                  name=\"login\"\r\n                  component={Error}\r\n                  message={errors.login}\r\n                />\r\n              </label>\r\n              <label>\r\n                <Field\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"Пароль\"\r\n                  className={`${styles[\"form-el\"]} ${isError(\r\n                    errors,\r\n                    \"password\"\r\n                  )}`}\r\n                />\r\n                <ErrorMessage\r\n                  name=\"login\"\r\n                  component={Error}\r\n                  message={errors.password}\r\n                />\r\n              </label>\r\n              <Link to=\"/signin\" className={styles[\"link-reset-pass\"]}>\r\n                Забули пароль?\r\n              </Link>\r\n              <button\r\n                type=\"submit\"\r\n                className={`${styles[\"form-el\"]} ${styles[\"form-btn\"]}`}\r\n              >\r\n                Увійти\r\n              </button>\r\n            </Form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SigninForm;\r\n","import AlterAuth from \"components/Auth/AlterAuth\";\r\nimport AuthLink from \"components/Auth/AuthLink\";\r\nimport Footer from \"components/Auth/Footer\";\r\nimport Header from \"components/Auth/Header\";\r\nimport LogoLink from \"components/Auth/LogoLink\";\r\nimport SigninForm from \"components/Auth/SigninForm\";\r\n\r\nconst Signin = () => {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <main>\r\n        <LogoLink />\r\n        <SigninForm />\r\n        <AuthLink path=\"/register\" message=\"У мене немає акаунта\" />\r\n        <AlterAuth />\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n"],"names":["signinSchema","yup","shape","login","matches","concat","required","password","initialValues","dispatch","useDispatch","isError","errors","name","styles","_jsxs","children","_jsx","className","Formik","validationSchema","onSubmit","values","_ref","resetForm","field","charAt","phone","email","signin","_objectSpread","_ref2","Form","autoComplete","Field","type","placeholder","ErrorMessage","component","Error","message","Link","to","_Fragment","Header","LogoLink","SigninForm","AuthLink","path","AlterAuth","Footer"],"sourceRoot":""}